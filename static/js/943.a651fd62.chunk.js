"use strict";(self.webpackChunkopenhouse=self.webpackChunkopenhouse||[]).push([[943],{440:(e,t,s)=>{s.d(t,{ZP:()=>i,vM:()=>o,z_:()=>a});var n=s(830),r=s.n(n);const o=function(e,t){return e.reduce((function(e,s){return(e[s[t]]=e[s[t]]||[]).push(s),e}),{})},a=function(e){let t={};return Object.keys(e).sort().forEach((function(s){t={...t,[s]:e[s]}})),t};function i(e,t){r().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,icon:e.type,title:e.message,didOpen:e=>{e.addEventListener("mouseenter",r().stopTimer),e.addEventListener("mouseleave",r().resumeTimer)},...t})}},943:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var n=s(791),r=s(87),o=s(373),a=s(184);function i(e){const{id:t,name:s,imgUrl:n,homes:i}=e,c=(m=t,i.filter((e=>{let{...t}=e;return t.communityId.toLowerCase()===m.toLowerCase()})));var m;const u=c.map((e=>{let{...t}=e;return t.price})),l=u.length?u.reduce(((e,t)=>e+t),0)/u.length:0;return(0,a.jsxs)("div",{className:"communityItem",children:[(0,a.jsx)(r.rU,{className:"communityItem__link",to:"/communities/".concat(t),title:s,state:s,children:(0,a.jsx)("img",{className:"communityItem__picture",src:n||o,alt:s})}),(0,a.jsxs)("div",{className:"communityItem__description",children:[(0,a.jsx)("p",{className:"communityItem__title",children:s}),(0,a.jsxs)("p",{className:"communityItem__parameter",children:["Average price ",l.toFixed(2)," CAD"]}),(0,a.jsxs)("p",{className:"communityItem__parameter",children:["Homes : ",c.length]})]})]})}var c=s(440),m=s(831);function u(){const[e,t]=(0,n.useState)([]),[s,r]=(0,n.useState)([]),o=(0,n.useRef)(null);return(0,n.useEffect)((()=>{var e;o.current=document.querySelector("html"),null===(e=o.current)||void 0===e||e.classList.add("__loading"),(async()=>{const e=await fetch("https://storage.googleapis.com/openhouse-ai-fe-coding-test/communities.json");if(e.ok)return e.json();throw new Error("Something went wrong")})().then((e=>{var s;const n=(e=>e.sort((function(e,t){return e.name.localeCompare(t.name)})))(e),r=(0,c.vM)(n,"group"),a=(0,c.z_)(r);t(a),null===(s=o.current)||void 0===s||s.classList.remove("__loading")})).catch((e=>{(0,c.ZP)({type:"error",message:e.message})})),(async()=>{const e=await fetch("https://storage.googleapis.com/openhouse-ai-fe-coding-test/homes.json");if(e.ok)return e.json();throw new Error("Something went wrong")})().then((e=>{r(e)})).catch((e=>{(0,c.ZP)({type:"error",message:e.message})}))}),[]),(0,a.jsx)(m.Z,{pageTitle:"Communities",children:(0,a.jsx)("div",{className:"communitiesPage",children:Object.entries(e).map(((e,t)=>{let{...r}=e;return(0,a.jsxs)("div",{className:"community",children:[(0,a.jsxs)("div",{className:"communityName",children:[(0,a.jsx)("span",{className:"title",children:r[0]}),(0,a.jsx)("span",{className:"line"})]}),(0,a.jsx)("div",{className:"communityItems",children:r[1].map(((e,t)=>{let{...r}=e;return(0,n.createElement)(i,{...r,key:t,homes:s})}))})]},t)}))})})}},373:(e,t,s)=>{e.exports=s.p+"static/media/background_hotel.d6397201f9b1c81a3afa.webp"}}]);
//# sourceMappingURL=943.a651fd62.chunk.js.map